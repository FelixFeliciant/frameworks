<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cross-Domain Dojo &mdash; Dojo Toolkit v1.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Dojo Toolkit v1.3.0 documentation" href="../index.html" />
    <link rel="up" title="Quickstart" href="contents.html" />
    <link rel="next" title="Custom Builds" href="custom-builds.html" />
    <link rel="prev" title="Browser Sniffing" href="browser-sniffing.html" />
<script type="text/javascript">
	var djConfig = {
		parseOnLoad:true, 
		isDebug: false
	}
</script>
<script type="text/javascript" src="../_static/dojo/dojo/dojo.js"></script>
<style type="text/css">
@import "../_static/dojo/dijit/themes/dijit.css";
@import "../_static/dojo/dijit/themes/nihilo/nihilo.css";
@import "../_static/dojo/docs/widget/resources/CodeViewer.css";
@import "../_static/css/layout.css";
</style>

  </head>
  <body>  

    <div class="document">
	<div id="container">
      <div id="header">
	<div class="container">
		<div id="navHeader">
		  <ul>
		    <li><a href="../index.html">home</a> |</li>
            <li style="margin-right: 10px">
		      <a href="custom-builds.html" title="Custom Builds"
			 accesskey="N">next</a></li>
            <li >
		      <a href="browser-sniffing.html" title="Browser Sniffing"
			 accesskey="P">previous</a> |</li>
		    <li><a href="../contents.html">Dojo Toolkit v1.3.0 documentation</a> &raquo;</li>
		      <li><a href="contents.html" accesskey="U">Quickstart</a> &raquo;</li> 
		  </ul>
		</div>
		<div id="searchHeader">
		    <div class="searchContainer">
		        <form class="search" action="../search.html" method="get">
                    <input class="textInput" type="text" name="q" size="18" />
                    <input class="buttonInput" type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
		    </div>
		</div>
	</div>
      </div>
      <div class="content">
	<div id="content">
		  <div id="contentRight">
			  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">Cross-Domain Dojo</a><ul>
<li><a class="reference" href="#introduction">Introduction</a><ul>
<li><a class="reference" href="#advantages">Advantages</a></li>
<li><a class="reference" href="#disadvantages">Disadvantages</a></li>
</ul>
</li>
<li><a class="reference" href="#using-a-cross-domain-dojo-distribution">Using a cross-domain Dojo distribution</a><ul>
<li><a class="reference" href="#cdn-or-a-custom-build">CDN or a custom build?</a></li>
<li><a class="reference" href="#available-cdns">Available CDNs</a><ul>
<li><a class="reference" href="#google">Google</a></li>
<li><a class="reference" href="#aol">AOL</a></li>
</ul>
</li>
<li><a class="reference" href="#making-a-custom-build">Making a custom build</a></li>
<li><a class="reference" href="#caveats-and-gotchas">Caveats and Gotchas</a></li>
</ul>
</li>
<li><a class="reference" href="#usage-example">Usage example</a></li>
<li><a class="reference" href="#using-cdn-with-local-modules">Using CDN with Local modules</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="browser-sniffing.html"
                                  title="previous chapter">Browser Sniffing</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="custom-builds.html"
                                  title="next chapter">Custom Builds</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/quickstart/cross-domain.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </div>
      </div>
		  </div>
		  <div id="contentLeft">
		    <div class="bodywrapper">
		      <div class="body">
			
  <div class="section" id="cross-domain-dojo">
<span id="quickstart-cross-domain"></span><h1><a class="toc-backref" href="#id1">Cross-Domain Dojo<a class="headerlink" href="#cross-domain-dojo" title="Permalink to this headline">¶</a></a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1.0</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Victor Danilchenko</td>
</tr>
</tbody>
</table>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#cross-domain-dojo" id="id1" name="id1">Cross-Domain Dojo</a><ul>
<li><a class="reference" href="#introduction" id="id2" name="id2">Introduction</a><ul>
<li><a class="reference" href="#advantages" id="id3" name="id3">Advantages</a></li>
<li><a class="reference" href="#disadvantages" id="id4" name="id4">Disadvantages</a></li>
</ul>
</li>
<li><a class="reference" href="#using-a-cross-domain-dojo-distribution" id="id5" name="id5">Using a cross-domain Dojo distribution</a><ul>
<li><a class="reference" href="#cdn-or-a-custom-build" id="id6" name="id6">CDN or a custom build?</a></li>
<li><a class="reference" href="#available-cdns" id="id7" name="id7">Available CDNs</a><ul>
<li><a class="reference" href="#google" id="id8" name="id8">Google</a></li>
<li><a class="reference" href="#aol" id="id9" name="id9">AOL</a></li>
</ul>
</li>
<li><a class="reference" href="#making-a-custom-build" id="id10" name="id10">Making a custom build</a></li>
<li><a class="reference" href="#caveats-and-gotchas" id="id11" name="id11">Caveats and Gotchas</a></li>
</ul>
</li>
<li><a class="reference" href="#usage-example" id="id12" name="id12">Usage example</a></li>
<li><a class="reference" href="#using-cdn-with-local-modules" id="id13" name="id13">Using CDN with Local modules</a></li>
</ul>
</li>
</ul>
</div>
<p>How to use Dojo&#8217;s cross-domain distributions</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id2">Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></a></h2>
<p>A cross-domain Dojo build is one which can be loaded from the server other than the one where the application deployment occurs. It can be a <a class="reference" href="quickstart/custom-builds">custom build</a> or a <a class="reference" href="http://en.wikipedia.org/wiki/Content_Delivery_Network">CDN</a> distribution.</p>
<div class="section" id="advantages">
<h3><a class="toc-backref" href="#id3">Advantages<a class="headerlink" href="#advantages" title="Permalink to this headline">¶</a></a></h3>
</div>
<div class="section" id="disadvantages">
<h3><a class="toc-backref" href="#id4">Disadvantages<a class="headerlink" href="#disadvantages" title="Permalink to this headline">¶</a></a></h3>
</div>
</div>
<div class="section" id="using-a-cross-domain-dojo-distribution">
<h2><a class="toc-backref" href="#id5">Using a cross-domain Dojo distribution<a class="headerlink" href="#using-a-cross-domain-dojo-distribution" title="Permalink to this headline">¶</a></a></h2>
<div class="section" id="cdn-or-a-custom-build">
<h3><a class="toc-backref" href="#id6">CDN or a custom build?<a class="headerlink" href="#cdn-or-a-custom-build" title="Permalink to this headline">¶</a></a></h3>
<p>There is really no right answer. A CDN distribution delivers geographic caching of the Dojo files, allowing the user to retrieve them from a nearby location, which speeds up loading. A custom build, however, allows you to create layers (bundles of classes), also speeding up loading.</p>
</div>
<div class="section" id="available-cdns">
<h3><a class="toc-backref" href="#id7">Available CDNs<a class="headerlink" href="#available-cdns" title="Permalink to this headline">¶</a></a></h3>
<p>In the examples below, &#8216;VERSION&#8217; is the Dojo version you want to use, e.g. &#8220;1.2&#8221;. While you can specify a more specific version, such as &#8220;1.2.3&#8221;, it is recommended you use a major version number (1.2) &#8211; newer dot-releases will be pushed to the /1.2/ URL automatically.</p>
<div class="section" id="google">
<h4><a class="toc-backref" href="#id8">Google<a class="headerlink" href="#google" title="Permalink to this headline">¶</a></a></h4>
<p>Google <a class="reference" href="http://code.google.com/apis/ajaxlibs/documentation/#dojo">hosts a cross-domain Dojo distribution</a> and makes it available via <a class="reference" href="http://code.google.com/apis/ajaxlibs/">Google Ajax Libraries API</a>. You can use it either by direct loading:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://ajax.googleapis.com/ajax/libs/dojo/VERSION/dojo/dojo.xd.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
</div>
<p>or by using Google API:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://www.google.com/jsapi&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
    <span class="nx">google</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">&quot;dojo&quot;</span><span class="o">,</span> <span class="s2">&quot;VERSION&quot;</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
</div>
<p>Note that if you use the Google API, google.load must reside within its own &lt;script&gt; tag, if you intend to do any immediate Dojo manipulations, such as setting configuration parameters. See the code example below. Also, if you are using Google API, you still have to import CSS files explicitly.</p>
</div>
<div class="section" id="aol">
<h4><a class="toc-backref" href="#id9">AOL<a class="headerlink" href="#aol" title="Permalink to this headline">¶</a></a></h4>
<p>AOL <a class="reference" href="http://dev.aol.com/dojo">also hosts a cross-domain Dojo distribution</a>. To use it, include the following script tag in your page:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;http://o.aolcdn.com/dojo/VERSION/dojo/dojo.xd.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="making-a-custom-build">
<h3><a class="toc-backref" href="#id10">Making a custom build<a class="headerlink" href="#making-a-custom-build" title="Permalink to this headline">¶</a></a></h3>
<p>See the <a class="reference" href="custom-builds.html#quickstart-custom-builds"><em>custom builds</em></a> page.</p>
</div>
<div class="section" id="caveats-and-gotchas">
<h3><a class="toc-backref" href="#id11">Caveats and Gotchas<a class="headerlink" href="#caveats-and-gotchas" title="Permalink to this headline">¶</a></a></h3>
<p><strong>Asynchronous loading</strong>. You <strong>must</strong> use dojo.addOnLoad() to register a callback function to get notification of package loading. This can be used even after the initial page load. Just do the dojo.require()s that you need, and then call dojo.addOnLoad() with a callback function, and once those new packages are loaded (or if they are already loaded), then the callback will be called.</p>
<p><strong>Local blank page</strong>. You have to save a local copy of a blank HTML page to location specified via 'dojoBlankHtmlUrl' configuration parameter, e.g.:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;script&gt;</span>
  <span class="nx">dojo</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">dojoBlankHtmlUrl</span> <span class="o">=</span> <span class="s1">&#39;/blank.html&#39;</span><span class="o">;</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
</div>
<p>Multiple modules (dojo.io.iframe, dijit.Editor, dojo.back) require this to properly function under XD Dojo. <strong>Note:</strong> The dijit.Editor/dijit._editor.RichText has a bug in release 1.1.0 where it was not using this djConfig parameter. It is fixed in Dojo 1.1.1 and later.</p>
<p><strong>dojox.flash.Info()</strong>: It uses document.write() which will cause problems if dojox.flash is loaded via dojo.require().</p>
</div>
</div>
<div class="section" id="usage-example">
<h2><a class="toc-backref" href="#id12">Usage example<a class="headerlink" href="#usage-example" title="Permalink to this headline">¶</a></a></h2>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;http://ajax.googleapis.com/ajax/libs/dojo/1.2/dijit/themes/tundra/tundra.css&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;http://www.google.com/jsapi&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span><span class="nx">google</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s2">&quot;dojo&quot;</span><span class="o">,</span> <span class="s2">&quot;1.2&quot;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
    <span class="k">function</span> <span class="nx">loader</span> <span class="p">()</span> <span class="p">{</span>
        <span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span> <span class="p">(</span><span class="s2">&quot;dijit.Editor&quot;</span><span class="p">);</span>
        <span class="nx">dojo</span><span class="p">.</span><span class="nx">addOnLoad</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">function</span> <span class="nx">callback</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">new</span> <span class="nx">dijit</span><span class="p">.</span><span class="nx">Editor</span> <span class="p">({}</span><span class="o">,</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;editorNode&quot;</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="nx">dojo</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">parseOnLoad</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
    <span class="nx">dojo</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">dojoBlankHtmlUrl</span> <span class="o">=</span> <span class="s1">&#39;/blank.html&#39;</span><span class="o">;</span>
    <span class="nx">dojo</span><span class="p">.</span><span class="nx">addOnLoad</span><span class="p">(</span><span class="nx">loader</span><span class="p">);</span>
<span class="nt">&lt;/script&gt;</span>

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;editorNode&quot;</span> <span class="na">class=</span><span class="s">&quot;tundra&quot;</span><span class="nt">&gt;</span>Hello, world!<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="using-cdn-with-local-modules">
<h2><a class="toc-backref" href="#id13">Using CDN with Local modules<a class="headerlink" href="#using-cdn-with-local-modules" title="Permalink to this headline">¶</a></a></h2>
<p>To use Dojo from a CDN alongside your own local/custom namespace, you must register the module path via djConfig:</p>
<div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></td><td class="code"><div class="highlight"><pre>      <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="nx">djConfig</span><span class="o">=</span><span class="p">{</span>
          <span class="nx">parseOnLoad</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
          <span class="nx">isDebug</span><span class="o">:</span> <span class="kc">true</span><span class="o">,</span>
          <span class="nx">baseUrl</span><span class="o">:</span> <span class="s2">&quot;./&quot;</span><span class="o">,</span>
          <span class="nx">modulePaths</span><span class="o">:</span> <span class="p">{</span> <span class="nx">my</span><span class="o">:</span> <span class="s2">&quot;relative/path/to/local/dijits&quot;</span> <span class="p">}</span>
        <span class="p">};</span>
    <span class="nt">&lt;/script&gt;</span>

    <span class="c">&lt;!-- Bootstrap Dojo From AOL&#39;s CDN--&gt;</span>
    <span class="nt">&lt;script</span>
<span class="nt">        </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span>
        <span class="na">src=</span><span class="s">&quot;http://o.aolcdn.com/dojo/1.2/dojo/dojo.xd.js&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/script&gt;</span>

    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
        <span class="nx">dojo</span><span class="p">.</span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;my.FooWidget&quot;</span><span class="p">);</span>
    <span class="nt">&lt;/script&gt;</span>
</pre></div>
</td></tr></table></div>
<p>the file FooWidget.js would live in the path &quot;relative/path/to/local/dijits/my/FooWidget.js&quot;</p>
</div>
</div>


		      </div>
		    </div>
		  </div>
		  <div class="clearfix"></div>
	</div>
      </div>
	</div>
      <div class="clearer"></div>
    </div>
<div id="footer">
    
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>
</div>
<script type="text/javascript">
	document.body.className = "nihilo";
</script>
<script type="text/javascript">
    dojo.require("docs.widget.CodeViewer");
    dojo.require("docs.widget.CompoundViewer");
</script>
<!--
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>-->

  </body>
</html>