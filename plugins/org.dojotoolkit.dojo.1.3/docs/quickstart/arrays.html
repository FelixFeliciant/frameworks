<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Arrays and Dojo &mdash; Dojo Toolkit v1.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Dojo Toolkit v1.3.0 documentation" href="../index.html" />
    <link rel="up" title="Quickstart" href="contents.html" />
    <link rel="next" title="Backbuttons and Dojo" href="back.html" />
    <link rel="prev" title="AJAX and Dojo" href="ajax.html" />
<script type="text/javascript">
	var djConfig = {
		parseOnLoad:true, 
		isDebug: false
	}
</script>
<script type="text/javascript" src="../_static/dojo/dojo/dojo.js"></script>
<style type="text/css">
@import "../_static/dojo/dijit/themes/dijit.css";
@import "../_static/dojo/dijit/themes/nihilo/nihilo.css";
@import "../_static/dojo/docs/widget/resources/CodeViewer.css";
@import "../_static/css/layout.css";
</style>

  </head>
  <body>  

    <div class="document">
	<div id="container">
      <div id="header">
	<div class="container">
		<div id="navHeader">
		  <ul>
		    <li><a href="../index.html">home</a> |</li>
            <li style="margin-right: 10px">
		      <a href="back.html" title="Backbuttons and Dojo"
			 accesskey="N">next</a></li>
            <li >
		      <a href="ajax.html" title="AJAX and Dojo"
			 accesskey="P">previous</a> |</li>
		    <li><a href="../contents.html">Dojo Toolkit v1.3.0 documentation</a> &raquo;</li>
		      <li><a href="contents.html" accesskey="U">Quickstart</a> &raquo;</li> 
		  </ul>
		</div>
		<div id="searchHeader">
		    <div class="searchContainer">
		        <form class="search" action="../search.html" method="get">
                    <input class="textInput" type="text" name="q" size="18" />
                    <input class="buttonInput" type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
		    </div>
		</div>
	</div>
      </div>
      <div class="content">
	<div id="content">
		  <div id="contentRight">
			  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">Arrays and Dojo</a><ul>
<li><a class="reference" href="#dojo-indexof">dojo.indexOf</a></li>
<li><a class="reference" href="#dojo-lastindexof">dojo.lastIndexOf</a></li>
<li><a class="reference" href="#dojo-foreach">dojo.forEach</a></li>
<li><a class="reference" href="#dojo-filter">dojo.filter</a></li>
<li><a class="reference" href="#dojo-map">dojo.map</a></li>
<li><a class="reference" href="#dojo-some">dojo.some</a></li>
<li><a class="reference" href="#dojo-every">dojo.every</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="ajax.html"
                                  title="previous chapter">AJAX and Dojo</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="back.html"
                                  title="next chapter">Backbuttons and Dojo</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/quickstart/arrays.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </div>
      </div>
		  </div>
		  <div id="contentLeft">
		    <div class="bodywrapper">
		      <div class="body">
			
  <div class="section" id="arrays-and-dojo">
<span id="quickstart-arrays"></span><h1><a class="toc-backref" href="#id1">Arrays and Dojo<a class="headerlink" href="#arrays-and-dojo" title="Permalink to this headline">¶</a></a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1.0</td>
</tr>
<tr class="field"><th class="field-name">Authors:</th><td class="field-body">Nikolai Onken</td>
</tr>
<tr class="field"><th class="field-name">Developers:</th><td class="field-body">?-</td>
</tr>
<tr class="field"><th class="field-name">Available:</th><td class="field-body">since V?</td>
</tr>
</tbody>
</table>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#arrays-and-dojo" id="id1" name="id1">Arrays and Dojo</a><ul>
<li><a class="reference" href="#dojo-indexof" id="id2" name="id2">dojo.indexOf</a></li>
<li><a class="reference" href="#dojo-lastindexof" id="id3" name="id3">dojo.lastIndexOf</a></li>
<li><a class="reference" href="#dojo-foreach" id="id4" name="id4">dojo.forEach</a></li>
<li><a class="reference" href="#dojo-filter" id="id5" name="id5">dojo.filter</a></li>
<li><a class="reference" href="#dojo-map" id="id6" name="id6">dojo.map</a></li>
<li><a class="reference" href="#dojo-some" id="id7" name="id7">dojo.some</a></li>
<li><a class="reference" href="#dojo-every" id="id8" name="id8">dojo.every</a></li>
</ul>
</li>
</ul>
</div>
<p>Dojo comes with a bunch of useful methods to deal with arrays, a few more than you get from your browser by default.</p>
<div class="section" id="dojo-indexof">
<h2><a class="toc-backref" href="#id2">dojo.indexOf<a class="headerlink" href="#dojo-indexof" title="Permalink to this headline">¶</a></a></h2>
<p>dojo.indexOf lets you easily determine the index of an element in an array.
Included are a few doctests which will either pass or fail depending on the expected result.
Note that the second test should fail, since the value of the passed array at position 3 is not existant</p>
<div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;style type=&quot;text/css&quot;&gt;
  &#64;import &quot;/_static/dojo/dojox/widget/DocTester/DocTester.css&quot;;
&lt;/style&gt;
&lt;script type=&quot;text/javascript&quot;&gt;dojo.require(&quot;dojox.widget.DocTester&quot;);&lt;/script&gt;
&lt;div dojoType=&quot;dojox.widget.DocTester&quot;&gt;
  &gt;&gt;&gt; dojo.indexOf([&quot;foo&quot;, &quot;hoo&quot;, &quot;zoo&quot;], &quot;zoo&quot;)
  &quot;2&quot;
  &gt;&gt;&gt; dojo.indexOf([&quot;foo&quot;, &quot;hoo&quot;, &quot;zoo&quot;], &quot;zoo&quot;)
  &quot;3&quot;
&lt;/div&gt;</pre></div></div>
<div class="section" id="dojo-lastindexof">
<h2><a class="toc-backref" href="#id3">dojo.lastIndexOf<a class="headerlink" href="#dojo-lastindexof" title="Permalink to this headline">¶</a></a></h2>
<p>dojo.lastIndexOf lets you easily determine the last index of an element in an array.
Included are a few doctests which will either pass or fail depending on the expected result.
Note that the second doctest should fail since the last index of the tested element is not 2, but 4.</p>
<div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;style type=&quot;text/css&quot;&gt;
  &#64;import &quot;/_static/dojo/dojox/widget/DocTester/DocTester.css&quot;;
&lt;/style&gt;
&lt;script type=&quot;text/javascript&quot;&gt;dojo.require(&quot;dojox.widget.DocTester&quot;);&lt;/script&gt;
&lt;div dojoType=&quot;dojox.widget.DocTester&quot;&gt;
  &gt;&gt;&gt; dojo.lastIndexOf([&quot;foo&quot;, &quot;hoo&quot;, &quot;zoo&quot;, &quot;shoe&quot;, &quot;zoo&quot;, &quot;nuu&quot;], &quot;zoo&quot;)
  &quot;4&quot;
  &gt;&gt;&gt; dojo.lastIndexOf([&quot;foo&quot;, &quot;hoo&quot;, &quot;zoo&quot;, &quot;shoe&quot;, &quot;zoo&quot;, &quot;nuu&quot;], &quot;zoo&quot;)
  &quot;2&quot;
&lt;/div&gt;</pre></div></div>
<div class="section" id="dojo-foreach">
<h2><a class="toc-backref" href="#id4">dojo.forEach<a class="headerlink" href="#dojo-foreach" title="Permalink to this headline">¶</a></a></h2>
<p>This is a heavylifer you will use a lot when writing your apps using Dojo. dojo.forEach lets you iterate over arrays, node lists and provides you with ways to filter your results. Lets take a look at a very basic example.
Note the &#8220;i&#8221; variable which returns the current position of an iteration</p>
<div dojoType="docs.widget.CompoundViewer"><div dojoType="docs.widget.CodeViewer" label="" lang="javascript"><pre>&lt;script type=&quot;text/javascript&quot;&gt;
dojo.require(&quot;dijit.form.Button&quot;); // this is just to make the demo look nicer

var arrFruit = [&quot;apples&quot;, &quot;kiwis&quot;, &quot;pineapples&quot;];
function populateData(){
  dojo.forEach(arrFruit, function(item, i){
    var li = dojo.doc.createElement(&quot;li&quot;);
    li.innerHTML = i+1+&quot;. &quot;+item;
    dojo.byId(&quot;forEach-items&quot;).appendChild(li);
  });
}
&lt;/script&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;button dojoType=&quot;dijit.form.Button&quot; onClick=&quot;populateData()&quot;&gt;Populate data&lt;/button&gt;
&lt;ul id=&quot;forEach-items&quot;&gt;

&lt;/ul&gt;</pre></div></div><p>Now lets use dojo.forEach with a list of dom nodes we retrieve using dojo.query. Note that dojo.query returns the list of dom nodes as an array. This way you can easily iterate over each dom node using dojo.forEach</p>
<div dojoType="docs.widget.CompoundViewer"><div dojoType="docs.widget.CodeViewer" label="" lang="javascript"><pre>&lt;script type=&quot;text/javascript&quot;&gt;
dojo.require(&quot;dijit.form.Button&quot;); // this is just to make the demo look nicer

var arr = [&quot;apples&quot;, &quot;kiwis&quot;, &quot;pineapples&quot;];
function populateQueryData(){
  dojo.query(&quot;li&quot;).forEach(function(item, i){
    var li = dojo.doc.createElement(&quot;li&quot;);
    li.innerHTML = i+1+&quot;. &quot;+item.innerHTML;
    dojo.byId(&quot;forEachQuery-items&quot;).appendChild(li);
  });
}
&lt;/script&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;button dojoType=&quot;dijit.form.Button&quot; onClick=&quot;populateQueryData()&quot;&gt;Populate data&lt;/button&gt;
&lt;ul id=&quot;forEachQuery-items&quot;&gt;

&lt;/ul&gt;</pre></div></div></div>
<div class="section" id="dojo-filter">
<h2><a class="toc-backref" href="#id5">dojo.filter<a class="headerlink" href="#dojo-filter" title="Permalink to this headline">¶</a></a></h2>
<p>There are many cases when you have an array and want to filter it by a certain condition, say you have an array of people with a last name. You would like to filter those having a certain last name. Lets take a look at anexample</p>
<div dojoType="docs.widget.CompoundViewer"><div dojoType="docs.widget.CodeViewer" label="" lang="javascript"><pre>&lt;script type=&quot;text/javascript&quot;&gt;
dojo.require(&quot;dijit.form.Button&quot;); // this is just to make the demo look nicer

var arr = [{surname: &quot;Washington&quot;, name: &quot;Paul&quot;},
           {surname: &quot;Gordon&quot;, name: &quot;Amie&quot;},
           {surname: &quot;Meyer&quot;, name: &quot;Sofie&quot;},
           {surname: &quot;Jaysons&quot;, name: &quot;Josh&quot;},
           {surname: &quot;Washington&quot;, name: &quot;George&quot;},
           {surname: &quot;Doormat&quot;, name: &quot;Amber&quot;},
           {surname: &quot;Smith&quot;, name: &quot;Susan&quot;},
           {surname: &quot;Hill&quot;, name: &quot;Strawberry&quot;},
           {surname: &quot;Washington&quot;, name: &quot;Dan&quot;},
           {surname: &quot;Dojo&quot;, name: &quot;Master&quot;}];

function filterArray(){
  var filteredArr = dojo.filter(arr, function(item){
    return item.surname == &quot;Washington&quot;;
  });

  dojo.forEach(filteredArr, function(item, i){
    var li = dojo.doc.createElement(&quot;li&quot;);
    li.innerHTML = i+1+&quot;. &quot;+item.surname+&quot;, &quot;+item.name;
    dojo.byId(&quot;filtered-items&quot;).appendChild(li);
  });

  dojo.forEach(arr, function(item, i){
    var li = dojo.doc.createElement(&quot;li&quot;);
    li.innerHTML = i+1+&quot;. &quot;+item.surname+&quot;, &quot;+item.name;
    dojo.byId(&quot;unFiltered-items&quot;).appendChild(li);
  });
}
&lt;/script&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;button dojoType=&quot;dijit.form.Button&quot; onClick=&quot;filterArray()&quot;&gt;Filter array&lt;/button&gt;
&lt;div style=&quot;width: 300px; float: left;&quot;&gt;
Filtered items&lt;br /&gt;(only people with &quot;Washington&quot; as surname)
&lt;ul id=&quot;filtered-items&quot;&gt;

&lt;/ul&gt;
&lt;/div&gt;
&lt;div style=&quot;width: 300px; float: left;&quot;&gt;
Unfiltered items&lt;br /&gt; (all people are represented in the list)
&lt;ul id=&quot;unFiltered-items&quot;&gt;

&lt;/ul&gt;
&lt;/div&gt;</pre></div></div></div>
<div class="section" id="dojo-map">
<h2><a class="toc-backref" href="#id6">dojo.map<a class="headerlink" href="#dojo-map" title="Permalink to this headline">¶</a></a></h2>
<p>Another great funtion, Dojo is providing is dojo.map. dojo.map lets you run a function on all elements of an array and returns a new array with the changed values. A very good example is the &#8220;Give all my employees a 10% salary rise&#8221;:</p>
<div dojoType="docs.widget.CompoundViewer"><div dojoType="docs.widget.CodeViewer" label="" lang="javascript"><pre>&lt;script type=&quot;text/javascript&quot;&gt;
dojo.require(&quot;dijit.form.Button&quot;); // this is just to make the demo look nicer

var arrSalary = [200, 300, 1500, 5, 4500];

function raiseSalary(){
  var raisedSalaries = dojo.map(arrSalary, function(item){
    return item+(item/100)*10;
  });

  dojo.forEach(raisedSalaries, function(item, i){
    var li = dojo.doc.createElement(&quot;li&quot;);
    li.innerHTML = i+1+&quot;. New salary: &quot;+item;
    dojo.byId(&quot;filteredSalary-items&quot;).appendChild(li);
  });

  dojo.forEach(arrSalary, function(item, i){
    var li = dojo.doc.createElement(&quot;li&quot;);
    li.innerHTML = i+1+&quot;. Old salary: &quot;+item;
    dojo.byId(&quot;unFilteredSalary-items&quot;).appendChild(li);
  });
}
&lt;/script&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;button dojoType=&quot;dijit.form.Button&quot; onClick=&quot;raiseSalary()&quot;&gt;Raise the salary&lt;/button&gt;
&lt;div style=&quot;width: 300px; float: left;&quot;&gt;
Peoples salaries after raise:
&lt;ul id=&quot;filteredSalary-items&quot;&gt;

&lt;/ul&gt;
&lt;/div&gt;
&lt;div style=&quot;width: 300px; float: left;&quot;&gt;
Peoples salaries before raise:
&lt;ul id=&quot;unFilteredSalary-items&quot;&gt;

&lt;/ul&gt;
&lt;/div&gt;</pre></div></div><p>For complete documentation and more examples please check the <a class="reference" href="../dojo/map.html#dojo-map"><em>dojo.map documentation</em></a></p>
</div>
<div class="section" id="dojo-some">
<h2><a class="toc-backref" href="#id7">dojo.some<a class="headerlink" href="#dojo-some" title="Permalink to this headline">¶</a></a></h2>
<p>Imagine you are a manager of a famous bank. A client of you comes and visits your office asking for another million dollars as a credit.
Now your bank policies only allows you to give each client one credit over 1 million, not two, not three - though you may have several smaller credits. Even 3 credits a 500.000 - weird bank.. anyways. dojo.some is the perfect functionto tell you whether an array has some of the asked values:</p>
<p><em>Note that we are using the doctest in this case to show you whether the client is allowed to get the credit. If the test passes he is allowed, if not he won&#8217;t go home with the cash.</em></p>
<div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;style type=&quot;text/css&quot;&gt;
  &#64;import &quot;/_static/dojo/dojox/widget/DocTester/DocTester.css&quot;;
&lt;/style&gt;
&lt;script type=&quot;text/javascript&quot;&gt;dojo.require(&quot;dojox.widget.DocTester&quot;);&lt;/script&gt;
&lt;div dojoType=&quot;dojox.widget.DocTester&quot;&gt;
  &gt;&gt;&gt; dojo.some([200000, 500000, 350000, 1000000, 75, 3], function(item){ return item&gt;=1000000})
  &quot;false&quot;
  &gt;&gt;&gt; dojo.some([200000, 500000, 350000, 100000, 75, 3], function(item){ return item&gt;=1000000})
  &quot;false&quot;
&lt;/div&gt;</pre></div></div>
<div class="section" id="dojo-every">
<h2><a class="toc-backref" href="#id8">dojo.every<a class="headerlink" href="#dojo-every" title="Permalink to this headline">¶</a></a></h2>
<p>Lets get back to our bank manager. A client wants another credit, but you only allow a credit if every income transfer is at least 3000,-
An example:</p>
<p><em>Note that we are using the doctest in this case to show you whether the client is allowed to get the credit. If the test passes he is allowed, if not he won&#8217;t go home with the cash.</em></p>
<div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;style type=&quot;text/css&quot;&gt;
  &#64;import &quot;/_static/dojo/dojox/widget/DocTester/DocTester.css&quot;;
&lt;/style&gt;
&lt;script type=&quot;text/javascript&quot;&gt;dojo.require(&quot;dojox.widget.DocTester&quot;);&lt;/script&gt;
&lt;div dojoType=&quot;dojox.widget.DocTester&quot;&gt;
  &gt;&gt;&gt; dojo.every([{'month': 'january', 'income': 2000}, {'month': 'february', 'income': 3200}, {'month': 'march', 'income': 2100}], function(item){ return item.income&gt;=3000})
  &quot;true&quot;
  &gt;&gt;&gt; dojo.every([{'month': 'january', 'income': 5000}, {'month': 'february', 'income': 4200}, {'month': 'march', 'income': 3100}], function(item){ return item.income&gt;=3000})
  &quot;true&quot;
&lt;/div&gt;</pre></div></div>
</div>


		      </div>
		    </div>
		  </div>
		  <div class="clearfix"></div>
	</div>
      </div>
	</div>
      <div class="clearer"></div>
    </div>
<div id="footer">
    
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>
</div>
<script type="text/javascript">
	document.body.className = "nihilo";
</script>
<script type="text/javascript">
    dojo.require("docs.widget.CodeViewer");
    dojo.require("docs.widget.CompoundViewer");
</script>
<!--
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>-->

  </body>
</html>