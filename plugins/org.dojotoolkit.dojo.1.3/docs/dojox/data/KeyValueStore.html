<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox.data.KeyValueStore &mdash; Dojo Toolkit v1.3.0 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.3.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="Dojo Toolkit v1.3.0 documentation" href="../../index.html" />
    <link rel="up" title="DojoX" href="../contents.html" />
    <link rel="next" title="dojox.data.OpenSearchStore" href="OpenSearchStore.html" />
    <link rel="prev" title="dojox.data.JsonRestStore" href="JsonRestStore.html" />
<script type="text/javascript">
	var djConfig = {
		parseOnLoad:true, 
		isDebug: false
	}
</script>
<script type="text/javascript" src="../../_static/dojo/dojo/dojo.js"></script>
<style type="text/css">
@import "../../_static/dojo/dijit/themes/dijit.css";
@import "../../_static/dojo/dijit/themes/nihilo/nihilo.css";
@import "../../_static/dojo/docs/widget/resources/CodeViewer.css";
@import "../../_static/css/layout.css";
</style>

  </head>
  <body>  

    <div class="document">
	<div id="container">
      <div id="header">
	<div class="container">
		<div id="navHeader">
		  <ul>
		    <li><a href="../../index.html">home</a> |</li>
            <li style="margin-right: 10px">
		      <a href="OpenSearchStore.html" title="dojox.data.OpenSearchStore"
			 accesskey="N">next</a></li>
            <li >
		      <a href="JsonRestStore.html" title="dojox.data.JsonRestStore"
			 accesskey="P">previous</a> |</li>
		    <li><a href="../../contents.html">Dojo Toolkit v1.3.0 documentation</a> &raquo;</li>
		      <li><a href="../contents.html" accesskey="U">DojoX</a> &raquo;</li> 
		  </ul>
		</div>
		<div id="searchHeader">
		    <div class="searchContainer">
		        <form class="search" action="../../search.html" method="get">
                    <input class="textInput" type="text" name="q" size="18" />
                    <input class="buttonInput" type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
		    </div>
		</div>
	</div>
      </div>
      <div class="content">
	<div id="content">
		  <div id="contentRight">
			  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">dojox.data.KeyValueStore</a><ul>
<li><a class="reference" href="#input-format">Input Format</a></li>
<li><a class="reference" href="#constructor-parameters">Constructor Parameters</a></li>
<li><a class="reference" href="#item-attributes">Item Attributes</a></li>
<li><a class="reference" href="#examples">Examples</a><ul>
<li><a class="reference" href="#list-out-all-the-attributes-and-values-of-a-key-value-data-set">List out all the attributes and values of a key/value data set</a></li>
<li><a class="reference" href="#connecting-key-value-store-to-dojox-grid-datagrid">Connecting key/value store to dojox.grid.DataGrid</a></li>
<li><a class="reference" href="#connecting-key-value-store-to-dijit-form-combobox">Connecting key/value store to dijit.form.ComboBox</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="JsonRestStore.html"
                                  title="previous chapter">dojox.data.JsonRestStore</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="OpenSearchStore.html"
                                  title="next chapter">dojox.data.OpenSearchStore</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/dojox/data/KeyValueStore.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </div>
      </div>
		  </div>
		  <div id="contentLeft">
		    <div class="bodywrapper">
		      <div class="body">
			
  <div class="section" id="dojox-data-keyvaluestore">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojox.data.KeyValueStore<a class="headerlink" href="#dojox-data-keyvaluestore" title="Permalink to this headline">¶</a></a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Contributed, Draft</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1.0</td>
</tr>
<tr class="field"><th class="field-name">Available:</th><td class="field-body">since V1.1</td>
</tr>
</tbody>
</table>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#dojox-data-keyvaluestore" id="id2" name="id2">dojox.data.KeyValueStore</a><ul>
<li><a class="reference" href="#input-format" id="id3" name="id3">Input Format</a></li>
<li><a class="reference" href="#constructor-parameters" id="id4" name="id4">Constructor Parameters</a></li>
<li><a class="reference" href="#item-attributes" id="id5" name="id5">Item Attributes</a></li>
<li><a class="reference" href="#examples" id="id6" name="id6">Examples</a><ul>
<li><a class="reference" href="#list-out-all-the-attributes-and-values-of-a-key-value-data-set" id="id7" name="id7">List out all the attributes and values of a key/value data set</a></li>
<li><a class="reference" href="#connecting-key-value-store-to-dojox-grid-datagrid" id="id8" name="id8">Connecting key/value store to dojox.grid.DataGrid</a></li>
<li><a class="reference" href="#connecting-key-value-store-to-dijit-form-combobox" id="id9" name="id9">Connecting key/value store to dijit.form.ComboBox</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>This is a dojo.data store implementation. The KeyValueStore is a store that takes content in a format similar to those used by property files, such as Java, and many other languages were there are unique keys mapping to some value for display. Think of it as an interface for reading property style files in dojo through the dojo.data interface.</p>
<div class="section" id="input-format">
<h2><a class="toc-backref" href="#id3">Input Format<a class="headerlink" href="#input-format" title="Permalink to this headline">¶</a></a></h2>
<p>It can take in either a Javascript array, JSON string, or URL as the data source. Data is expected to be in the following format:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">[</span>
  <span class="p">{</span> <span class="s2">&quot;key1&quot;</span><span class="o">:</span> <span class="s2">&quot;value1&quot;</span> <span class="p">}</span><span class="o">,</span>
  <span class="p">{</span> <span class="s2">&quot;key2&quot;</span><span class="o">:</span> <span class="s2">&quot;value2&quot;</span> <span class="p">}</span><span class="o">,</span>
  <span class="p">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>Each 'item' retrieved from this store from this store is a JS object representing a key-value pair. If an item in the above array has more than one key/value pair, only the first will be used/accessed.</p>
<p>Such a construct can be formed from a JS object of the form { k1:v1, k2:v2, ... } with code like</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">var</span> <span class="nx">myVar</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;key1&quot;</span><span class="o">:</span> <span class="s2">&quot;value1&quot;</span> <span class="o">,</span> <span class="s2">&quot;key2&quot;</span><span class="o">:</span> <span class="s2">&quot;value2&quot;</span><span class="o">,</span> <span class="p">...</span> <span class="p">};</span>
<span class="k">var</span> <span class="nx">myData</span><span class="o">=</span><span class="p">[];</span>
<span class="k">for</span> <span class="p">(</span><span class="k">var</span> <span class="nx">p</span> <span class="k">in</span> <span class="nx">myVar</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">var</span> <span class="nx">t</span><span class="o">=</span><span class="p">{};</span>
  <span class="nx">t</span><span class="p">[</span><span class="nx">p</span><span class="p">]</span><span class="o">=</span><span class="nx">myVar</span><span class="p">[</span><span class="nx">p</span><span class="p">];</span>
  <span class="nx">myData</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">t</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="constructor-parameters">
<h2><a class="toc-backref" href="#id4">Constructor Parameters<a class="headerlink" href="#constructor-parameters" title="Permalink to this headline">¶</a></a></h2>
<p>The constructor for the store can take three different parameters as a way to load the data; a URL to a JSON encoded file, a reference to a JavaScript object in key/value pair format, and a JSON encoded string. The parameters are documented below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="63%" />
<col width="24%" />
</colgroup>
<tbody valign="top">
<tr><td><strong>Parameter</strong></td>
<td><strong>Description</strong></td>
<td><strong>Type</strong></td>
</tr>
<tr><td>url</td>
<td>The URL from which to xhrGet load a JSON encoded file of the data.</td>
<td>String</td>
</tr>
<tr><td>data</td>
<td>A JSON encoded string of the data.</td>
<td>String</td>
</tr>
<tr><td>dataVar</td>
<td>A JavaScript Array object of the items.</td>
<td>JavaScript Array</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="item-attributes">
<h2><a class="toc-backref" href="#id5">Item Attributes<a class="headerlink" href="#item-attributes" title="Permalink to this headline">¶</a></a></h2>
<p>Items from the KeyValueStore have two well-defined attribute names 'key' and 'value', as well as the dynamic value of store.getValue(item, &quot;key&quot;). See the table below for further details.</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="59%" />
<col width="23%" />
</colgroup>
<tbody valign="top">
<tr><td><strong>Attribute</strong></td>
<td><strong>Description</strong></td>
<td><strong>Type</strong></td>
</tr>
<tr><td>key</td>
<td>The value of this attribute is the named key used in the key/value pair.</td>
<td>String</td>
</tr>
<tr><td>value</td>
<td>The value of this attribute is the value assigned to be the key of the
key/value pair.</td>
<td>String</td>
</tr>
<tr><td>getValue(item, &quot;key&quot;)</td>
<td>The named key of the key/value pair.</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id6">Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></a></h2>
<div class="section" id="list-out-all-the-attributes-and-values-of-a-key-value-data-set">
<h3><a class="toc-backref" href="#id7">List out all the attributes and values of a key/value data set<a class="headerlink" href="#list-out-all-the-attributes-and-values-of-a-key-value-data-set" title="Permalink to this headline">¶</a></a></h3>
<div dojoType="docs.widget.CompoundViewer"><div dojoType="docs.widget.CodeViewer" label="" lang="javascript"><pre>&lt;script&gt;
  dojo.require(&quot;dojox.data.KeyValueStore&quot;);
  dojo.require(&quot;dijit.form.Button&quot;);

  var storeData = [
      { 'key1' : 'value1' },
      { 'key2' : 'value2' },
      { 'key3' : 'value3' },
      { 'key4' : 'value4' },
      { 'key5' : 'value5' }
    ];

    //This function performs some basic dojo initialization. In this case it connects the button
    //onClick to a function which invokes the fetch(). The fetch function queries for all items
    //and provides callbacks to use for completion of data retrieval or reporting of errors.
    function init () {
       //Function to perform a fetch on the datastore when a button is clicked
       function getAllItems () {

         //Callback to perform an action when the data items are starting to be returned:
         function clearList(size, request) {
           var list = dojo.byId(&quot;list&quot;);
           if (list) {
             while (list.firstChild) {
               list.removeChild(list.firstChild);
             }
           }
         }

         //Callback for processing a returned list of items.
         function gotItems(items, request) {
           var list = dojo.byId(&quot;list&quot;);
           if (list) {
             var i;
             for (i = 0; i &lt; items.length; i++) {
               var item = items[i];
               var field = document.createElement(&quot;b&quot;);
               field.appendChild(document.createTextNode(&quot;Key: &quot;));
               list.appendChild(field);
               list.appendChild(document.createTextNode(kvStore.getValue(item, &quot;key&quot;)));
               list.appendChild(document.createTextNode(&quot;  &quot;));
               field = document.createElement(&quot;b&quot;);
               field.appendChild(document.createTextNode(&quot;Value: &quot;));
               list.appendChild(field);
               list.appendChild(document.createTextNode(kvStore.getValue(item, &quot;value&quot;)));
               list.appendChild(document.createTextNode(&quot;  &quot;));
               field = document.createElement(&quot;b&quot;);
               field.appendChild(document.createTextNode(&quot;Value by named key (&quot; + kvStore.getValue(item, &quot;key&quot;) + &quot;): &quot;));
               list.appendChild(field);
               list.appendChild(document.createTextNode(kvStore.getValue(item, kvStore.getValue(item, &quot;key&quot;))));
               list.appendChild(document.createElement(&quot;br&quot;));
             }
           }
         }

         //Callback for if the lookup fails.
         function fetchFailed(error, request) {
            alert(&quot;lookup failed.&quot;);
         }

         //Fetch the data in a sorted order.
         kvStore.fetch({onBegin: clearList, onComplete: gotItems, onError: fetchFailed});
       }
       //Link the click event of the button to driving the fetch.
       dojo.connect(button, &quot;onClick&quot;, getAllItems);
    }
    //Set the init function to run when dojo loading and page parsing has completed.
    dojo.addOnLoad(init);
&lt;/script&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;div dojoType=&quot;dojox.data.KeyValueStore&quot; data=&quot;storeData&quot; jsId=&quot;kvStore&quot;&gt;&lt;/div&gt;
&lt;div dojoType=&quot;dijit.form.Button&quot; jsId=&quot;button&quot;&gt;Show me the key/value info!&lt;/div&gt;
&lt;br&gt;
&lt;br&gt;
&lt;b&gt;List of item information:&lt;/b&gt;
&lt;br&gt;
&lt;span id=&quot;list&quot;&gt;
&lt;/span&gt;</pre></div></div></div>
<div class="section" id="connecting-key-value-store-to-dojox-grid-datagrid">
<h3><a class="toc-backref" href="#id8">Connecting key/value store to dojox.grid.DataGrid<a class="headerlink" href="#connecting-key-value-store-to-dojox-grid-datagrid" title="Permalink to this headline">¶</a></a></h3>
<div dojoType="docs.widget.CompoundViewer"><div dojoType="docs.widget.CodeViewer" label="" lang="javascript"><pre>&lt;script&gt;
  dojo.require(&quot;dojox.data.HtmlStore&quot;);
  dojo.require(&quot;dojox.grid.DataGrid&quot;);

  var storeData2 = [
    { 'key1' : 'value1' },
    { 'key2' : 'value2' },
    { 'key3' : 'value3' },
    { 'key4' : 'value4' },
    { 'key5' : 'value5' }
  ];

  var layoutKeyValue = [
    [
      { field: &quot;key&quot;, name: &quot;KEY&quot;, width: 10 },
      { field: &quot;value&quot;, name: &quot;VALUE&quot;, width: 'auto' }
    ]
  ];

&lt;/script&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;b&gt;dojox.grid.DataGrid connected to the KeyValueStore:&lt;/b&gt;&lt;br&gt;
&lt;div dojoType=&quot;dojox.data.KeyValueStore&quot; data=&quot;storeData2&quot; jsId=&quot;kvStore2&quot;&gt;&lt;/div&gt;
&lt;div style=&quot;width: 400px; height: 200px;&quot;&gt;
  &lt;div id=&quot;grid&quot;
    dojoType=&quot;dojox.grid.DataGrid&quot;
    store=&quot;kvStore2&quot;
    structure=&quot;layoutKeyValue&quot;
    query=&quot;{}&quot;
    rowsPerPage=&quot;40&quot;&gt;
  &lt;/div&gt;
&lt;/div&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="css"><pre>&lt;style type=&quot;text/css&quot;&gt;
  &#64;import &quot;/_static/dojo/dojox/grid/resources/Grid.css&quot;;
  &#64;import &quot;/_static/dojo/dojox/grid/resources/nihiloGrid.css&quot;;

  .dojoxGrid table {
    margin: 0;
  }
&lt;/style&gt;</pre></div></div></div>
<div class="section" id="connecting-key-value-store-to-dijit-form-combobox">
<h3><a class="toc-backref" href="#id9">Connecting key/value store to dijit.form.ComboBox<a class="headerlink" href="#connecting-key-value-store-to-dijit-form-combobox" title="Permalink to this headline">¶</a></a></h3>
<div dojoType="docs.widget.CompoundViewer"><div dojoType="docs.widget.CodeViewer" label="" lang="javascript"><pre>&lt;script&gt;
  dojo.require(&quot;dojox.data.HtmlStore&quot;);
  dojo.require(&quot;dijit.form.ComboBox&quot;);

  var storeData3 = [
    { 'key1' : 'value1' },
    { 'key2' : 'value2' },
    { 'key3' : 'value3' },
    { 'key4' : 'value4' },
    { 'key5' : 'value5' }
  ];
&lt;/script&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;b&gt;dijit.form.ComboBox connected to the KeyValueStore:&lt;/b&gt;&lt;br&gt;
&lt;div dojoType=&quot;dojox.data.KeyValueStore&quot; data=&quot;storeData3&quot; jsId=&quot;kvStore3&quot;&gt;&lt;/div&gt;
&lt;div dojoType=&quot;dijit.form.ComboBox&quot; store=&quot;kvStore3&quot; searchAttr=&quot;key&quot;&gt;&lt;/div&gt;</pre></div></div></div>
</div>
</div>


		      </div>
		    </div>
		  </div>
		  <div class="clearfix"></div>
	</div>
      </div>
	</div>
      <div class="clearer"></div>
    </div>
<div id="footer">
    
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>
</div>
<script type="text/javascript">
	document.body.className = "nihilo";
</script>
<script type="text/javascript">
    dojo.require("docs.widget.CodeViewer");
    dojo.require("docs.widget.CompoundViewer");
</script>
<!--
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>-->

  </body>
</html>