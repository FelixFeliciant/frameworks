<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojox.timing.doLater &mdash; Dojo Toolkit v1.3.0 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.3.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="Dojo Toolkit v1.3.0 documentation" href="../../index.html" />
    <link rel="up" title="DojoX" href="../contents.html" />
    <link rel="next" title="dojox.uuid" href="../uuid.html" />
    <link rel="prev" title="dojox.timing" href="../timing.html" />
<script type="text/javascript">
	var djConfig = {
		parseOnLoad:true, 
		isDebug: false
	}
</script>
<script type="text/javascript" src="../../_static/dojo/dojo/dojo.js"></script>
<style type="text/css">
@import "../../_static/dojo/dijit/themes/dijit.css";
@import "../../_static/dojo/dijit/themes/nihilo/nihilo.css";
@import "../../_static/dojo/docs/widget/resources/CodeViewer.css";
@import "../../_static/css/layout.css";
</style>

  </head>
  <body>  

    <div class="document">
	<div id="container">
      <div id="header">
	<div class="container">
		<div id="navHeader">
		  <ul>
		    <li><a href="../../index.html">home</a> |</li>
            <li style="margin-right: 10px">
		      <a href="../uuid.html" title="dojox.uuid"
			 accesskey="N">next</a></li>
            <li >
		      <a href="../timing.html" title="dojox.timing"
			 accesskey="P">previous</a> |</li>
		    <li><a href="../../contents.html">Dojo Toolkit v1.3.0 documentation</a> &raquo;</li>
		      <li><a href="../contents.html" accesskey="U">DojoX</a> &raquo;</li> 
		  </ul>
		</div>
		<div id="searchHeader">
		    <div class="searchContainer">
		        <form class="search" action="../../search.html" method="get">
                    <input class="textInput" type="text" name="q" size="18" />
                    <input class="buttonInput" type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
		    </div>
		</div>
	</div>
      </div>
      <div class="content">
	<div id="content">
		  <div id="contentRight">
			  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">dojox.timing.doLater</a><ul>
<li><a class="reference" href="#introduction">Introduction</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../timing.html"
                                  title="previous chapter">dojox.timing</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../uuid.html"
                                  title="next chapter">dojox.uuid</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/dojox/timing/doLater.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </div>
      </div>
		  </div>
		  <div id="contentLeft">
		    <div class="bodywrapper">
		      <div class="body">
			
  <div class="section" id="dojox-timing-dolater">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojox.timing.doLater<a class="headerlink" href="#dojox-timing-dolater" title="Permalink to this headline">¶</a></a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1.0</td>
</tr>
<tr class="field"><th class="field-name">Project owner:</th><td class="field-body">Mike Wilcox</td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Mike Wilcox</td>
</tr>
<tr class="field"><th class="field-name">Available:</th><td class="field-body">since 1.3</td>
</tr>
</tbody>
</table>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#dojox-timing-dolater" id="id2" name="id2">dojox.timing.doLater</a><ul>
<li><a class="reference" href="#introduction" id="id3" name="id3">Introduction</a></li>
</ul>
</li>
</ul>
</div>
<p>dojox.timing.doLater checks if a parameter is ready, and if not, it will &#8220;do it later&#8221;.</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></a></h2>
<p>The idea behind doLater is when you have multiple methods all calling one object that may or may not yet be available. Instead of having duplicative if-statements in each of these methods, doLater allows for a simple timer-based callback that has a simple method signature and fits in one line of code.</p>
<p>One use of doLater is controlling a Flash SWF. A SWF takes some time to load, and is most likely not ready when you first attempt communication. Other uses for doLater would be popup windows, iframes, lazy loaded scripts, or server calls. But as the examples show, it can be used to delay any call based on whatever conditional is passed to it.</p>
<p>The following example shows basic usage of doLater. The property &#8220;swf&#8221; represents an actual SWF file, and is sent to doLater to determine if it exists. If it does not exist, doLater returns true for &#8220;yes, we will do later&#8221;, so that the function can terminate. The original caller (tellSwfPlay) and its arguments (frameNumber) are held by doLater for a set interval, after which the call is made again repeatedly until the swf property returns something &#8220;truthy&#8221;:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre><span class="k">var</span> <span class="nx">tellSwfPlay</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="nx">frameNumber</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">dojox</span><span class="p">.</span><span class="nx">timing</span><span class="p">.</span><span class="nx">doLater</span><span class="p">(</span><span class="nx">swf</span><span class="p">)){</span><span class="k">return</span><span class="o">;</span><span class="p">}</span>
    <span class="nx">swf</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span> <span class="nx">frameNumber</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The second argument for doLater allows for context so the code can be executed from within objects:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4</pre></td><td class="code"><div class="highlight"><pre><span class="nx">swfController</span><span class="p">.</span><span class="nx">play</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="nx">frameNumber</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">dojox</span><span class="p">.</span><span class="nx">timing</span><span class="p">.</span><span class="nx">doLater</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">swf</span><span class="o">,</span> <span class="k">this</span><span class="p">)){</span><span class="k">return</span><span class="o">;</span><span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">swf</span><span class="p">.</span><span class="nx">play</span><span class="p">(</span> <span class="nx">frameNumber</span> <span class="p">);</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>The interval of doLater calls defaults to 100 milliseconds and can be changed with the third argument.</p>
<p>The next example shows that the first argument does not have to be a property, it can be any expression that results in true or false:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre><span class="k">var</span> <span class="nx">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="nx">setTimeout</span><span class="p">(</span><span class="k">function</span><span class="p">(){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">dojox</span><span class="p">.</span><span class="nx">timing</span><span class="p">.</span><span class="nx">doLater</span><span class="p">(</span><span class="o">++</span><span class="nx">count</span><span class="o">&gt;=</span><span class="mi">10</span><span class="p">)){</span><span class="k">return</span><span class="o">;</span><span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;incremented count:&quot;</span><span class="o">,</span> <span class="nx">count</span><span class="p">);</span>
<span class="p">}</span><span class="o">,</span><span class="mi">0</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>In this case, doLater executes ten times before the expression results in true. Anything that works in an if statement will evaluate properly. The previous example also shows that anonymous functions work perfectly well.</p>
</div>
</div>


		      </div>
		    </div>
		  </div>
		  <div class="clearfix"></div>
	</div>
      </div>
	</div>
      <div class="clearer"></div>
    </div>
<div id="footer">
    
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>
</div>
<script type="text/javascript">
	document.body.className = "nihilo";
</script>
<script type="text/javascript">
    dojo.require("docs.widget.CodeViewer");
    dojo.require("docs.widget.CompoundViewer");
</script>
<!--
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>-->

  </body>
</html>