<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojo.withDoc &mdash; Dojo Toolkit v1.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Dojo Toolkit v1.3.0 documentation" href="../index.html" />
    <link rel="up" title="Dojo" href="contents.html" />
    <link rel="next" title="dojo.withGlobal" href="withGlobal.html" />
    <link rel="prev" title="dojo.windowUnloaded" href="windowUnloaded.html" />
<script type="text/javascript">
	var djConfig = {
		parseOnLoad:true, 
		isDebug: false
	}
</script>
<script type="text/javascript" src="../_static/dojo/dojo/dojo.js"></script>
<style type="text/css">
@import "../_static/dojo/dijit/themes/dijit.css";
@import "../_static/dojo/dijit/themes/nihilo/nihilo.css";
@import "../_static/dojo/docs/widget/resources/CodeViewer.css";
@import "../_static/css/layout.css";
</style>

  </head>
  <body>  

    <div class="document">
	<div id="container">
      <div id="header">
	<div class="container">
		<div id="navHeader">
		  <ul>
		    <li><a href="../index.html">home</a> |</li>
            <li style="margin-right: 10px">
		      <a href="withGlobal.html" title="dojo.withGlobal"
			 accesskey="N">next</a></li>
            <li >
		      <a href="windowUnloaded.html" title="dojo.windowUnloaded"
			 accesskey="P">previous</a> |</li>
		    <li><a href="../contents.html">Dojo Toolkit v1.3.0 documentation</a> &raquo;</li>
		      <li><a href="contents.html" accesskey="U">Dojo</a> &raquo;</li> 
		  </ul>
		</div>
		<div id="searchHeader">
		    <div class="searchContainer">
		        <form class="search" action="../search.html" method="get">
                    <input class="textInput" type="text" name="q" size="18" />
                    <input class="buttonInput" type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
		    </div>
		</div>
	</div>
      </div>
      <div class="content">
	<div id="content">
		  <div id="contentRight">
			  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">dojo.withDoc</a><ul>
<li><a class="reference" href="#introduction">Introduction</a></li>
<li><a class="reference" href="#usage">Usage</a></li>
<li><a class="reference" href="#examples">Examples</a><ul>
<li><a class="reference" href="#example-1-using-dojo-withdoc-alter-documents-in-an-iframe">Example 1: Using dojo.withDoc alter documents in an iFrame.</a></li>
</ul>
</li>
<li><a class="reference" href="#see-also">See also</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="windowUnloaded.html"
                                  title="previous chapter">dojo.windowUnloaded</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="withGlobal.html"
                                  title="next chapter">dojo.withGlobal</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/dojo/withDoc.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </div>
      </div>
		  </div>
		  <div id="contentLeft">
		    <div class="bodywrapper">
		      <div class="body">
			
  <div class="section" id="dojo-withdoc">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojo.withDoc<a class="headerlink" href="#dojo-withdoc" title="Permalink to this headline">¶</a></a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1.0</td>
</tr>
<tr class="field"><th class="field-name">Available:</th><td class="field-body">since V0.9</td>
</tr>
</tbody>
</table>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#dojo-withdoc" id="id2" name="id2">dojo.withDoc</a><ul>
<li><a class="reference" href="#introduction" id="id3" name="id3">Introduction</a></li>
<li><a class="reference" href="#usage" id="id4" name="id4">Usage</a></li>
<li><a class="reference" href="#examples" id="id5" name="id5">Examples</a></li>
<li><a class="reference" href="#see-also" id="id6" name="id6">See also</a></li>
</ul>
</li>
</ul>
</div>
<p>dojo.withDoc provides a mechanism by which a function can have the document root temporarily changed for the execution of the function.  This allows document scope changes without affecting other items in the current dojo application.</p>
<div class="section" id="introduction">
<h2><a class="toc-backref" href="#id3">Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></a></h2>
<p>This function provides a quick way to alter the &#8216;document&#8217; root as seen by dojo for specific operations.  This is most notably useful when iframes are involved and you want to use a core dojo function, such as dojo.query or dojo.style against contents of that iframe.</p>
</div>
<div class="section" id="usage">
<h2><a class="toc-backref" href="#id4">Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></a></h2>
<p>Use this function to replace the dojo.doc reference for a specific function call. Only during that specific function execution is dojo.doc assigned the document you specify.  The below example demonstrates how to use it against an iframe document to query into the iframe and make updates.</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
  <span class="k">var</span> <span class="nx">iframeDoc</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">byId</span><span class="p">(</span><span class="s2">&quot;someFrameId&quot;</span><span class="p">).</span><span class="nx">contentWindow</span><span class="p">.</span><span class="nb">document</span><span class="o">;</span>

  <span class="c">//Call a callback with different &#39;global&#39; values and context.</span>
  <span class="nx">dojo</span><span class="p">.</span><span class="nx">withDoc</span><span class="p">(</span><span class="nx">iframeDoc</span>  <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nx">someDiv</span> <span class="o">=</span> <span class="nx">dojo</span><span class="p">.</span><span class="nx">query</span><span class="p">(</span><span class="s2">&quot;someDiv&quot;</span><span class="p">);</span>
    <span class="nx">dojo</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="nx">someDiv</span><span class="o">,</span> <span class="s2">&quot;color&quot;</span><span class="o">,</span> <span class="s2">&quot;red&quot;</span><span class="p">);</span>
  <span class="p">}</span><span class="o">,</span> <span class="k">this</span><span class="p">));</span>
<span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id5">Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></a></h2>
<div class="section" id="example-1-using-dojo-withdoc-alter-documents-in-an-iframe">
<h3>Example 1: Using dojo.withDoc alter documents in an iFrame.<a class="headerlink" href="#example-1-using-dojo-withdoc-alter-documents-in-an-iframe" title="Permalink to this headline">¶</a></h3>
<div dojoType="docs.widget.CompoundViewer"><div dojoType="docs.widget.CodeViewer" label="" lang="javascript"><pre>&lt;script&gt;
  dojo.require(&quot;dijit.form.Button&quot;);

  function changeStyles() {
    var button = dijit.byId(&quot;changeStyles&quot;);
    dojo.connect(button, &quot;onClick&quot;, function() {

     //Apply styles to the document contained by the iframe
     var frameDoc = dojo.byId(&quot;simpleFrame&quot;).contentWindow.document;
     dojo.withDoc(frameDoc, function() {
       var tds= dojo.query(&quot;td&quot;);
       dojo.forEach(tds, function(cell) {
         dojo.style(cell, &quot;color&quot;, &quot;red&quot;);
       }, this);
     });
    });
  }
  dojo.addOnLoad(changeStyles);
&lt;/script&gt;</pre></div><div dojoType="docs.widget.CodeViewer" label="" lang="html"><pre>&lt;button id=&quot;changeStyles&quot; dojoType=&quot;dijit.form.Button&quot;&gt;Change Text Color in iFrame&lt;/button&gt;
&lt;br&gt;&lt;br&gt;
&lt;iframe id=&quot;simpleFrame&quot; name=&quot;simpleFrame&quot; src=&quot;/_static/dojo/dojox/data/tests/stores/books.html&quot; style=&quot;width: 500px; height: 500px;&quot;&gt;
&lt;/iframe&gt;</pre></div></div></div>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id6">See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></a></h2>
<ul class="simple">
<li><a class="reference" href="doc.html#dojo-doc"><em>dojo.doc</em></a></li>
</ul>
</div>
</div>


		      </div>
		    </div>
		  </div>
		  <div class="clearfix"></div>
	</div>
      </div>
	</div>
      <div class="clearer"></div>
    </div>
<div id="footer">
    
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>
</div>
<script type="text/javascript">
	document.body.className = "nihilo";
</script>
<script type="text/javascript">
    dojo.require("docs.widget.CodeViewer");
    dojo.require("docs.widget.CompoundViewer");
</script>
<!--
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>-->

  </body>
</html>