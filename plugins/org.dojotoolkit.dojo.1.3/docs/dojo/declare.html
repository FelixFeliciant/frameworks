<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>dojo.declare &mdash; Dojo Toolkit v1.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.3.0',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Dojo Toolkit v1.3.0 documentation" href="../index.html" />
    <link rel="up" title="Dojo" href="contents.html" />
    <link rel="next" title="dojo.deprecated" href="deprecated.html" />
    <link rel="prev" title="dojo.date.stamp" href="date/stamp.html" />
<script type="text/javascript">
	var djConfig = {
		parseOnLoad:true, 
		isDebug: false
	}
</script>
<script type="text/javascript" src="../_static/dojo/dojo/dojo.js"></script>
<style type="text/css">
@import "../_static/dojo/dijit/themes/dijit.css";
@import "../_static/dojo/dijit/themes/nihilo/nihilo.css";
@import "../_static/dojo/docs/widget/resources/CodeViewer.css";
@import "../_static/css/layout.css";
</style>

  </head>
  <body>  

    <div class="document">
	<div id="container">
      <div id="header">
	<div class="container">
		<div id="navHeader">
		  <ul>
		    <li><a href="../index.html">home</a> |</li>
            <li style="margin-right: 10px">
		      <a href="deprecated.html" title="dojo.deprecated"
			 accesskey="N">next</a></li>
            <li >
		      <a href="date/stamp.html" title="dojo.date.stamp"
			 accesskey="P">previous</a> |</li>
		    <li><a href="../contents.html">Dojo Toolkit v1.3.0 documentation</a> &raquo;</li>
		      <li><a href="contents.html" accesskey="U">Dojo</a> &raquo;</li> 
		  </ul>
		</div>
		<div id="searchHeader">
		    <div class="searchContainer">
		        <form class="search" action="../search.html" method="get">
                    <input class="textInput" type="text" name="q" size="18" />
                    <input class="buttonInput" type="submit" value="Go" />
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
		    </div>
		</div>
	</div>
      </div>
      <div class="content">
	<div id="content">
		  <div id="contentRight">
			  
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference" href="">dojo.declare</a><ul>
<li><a class="reference" href="#basic-usage">Basic Usage</a></li>
<li><a class="reference" href="#arrays-and-objects-as-member-variables">Arrays and Objects as member variables</a></li>
<li><a class="reference" href="#inheritance">Inheritance</a><ul>
<li><a class="reference" href="#calling-superclass-methods">Calling Superclass Methods</a></li>
</ul>
</li>
<li><a class="reference" href="#mixins">Mixins</a></li>
<li><a class="reference" href="#mixin-inheritance-chain">Mixin inheritance chain</a></li>
<li><a class="reference" href="#see-also">See Also</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="date/stamp.html"
                                  title="previous chapter">dojo.date.stamp</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="deprecated.html"
                                  title="next chapter">dojo.deprecated</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/dojo/declare.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
        </div>
      </div>
		  </div>
		  <div id="contentLeft">
		    <div class="bodywrapper">
		      <div class="body">
			
  <div class="section" id="dojo-declare">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">dojo.declare<a class="headerlink" href="#dojo-declare" title="Permalink to this headline">¶</a></a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1.0</td>
</tr>
<tr class="field"><th class="field-name">Available:</th><td class="field-body">since V0.?</td>
</tr>
</tbody>
</table>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#dojo-declare" id="id2" name="id2">dojo.declare</a><ul>
<li><a class="reference" href="#basic-usage" id="id3" name="id3">Basic Usage</a></li>
<li><a class="reference" href="#arrays-and-objects-as-member-variables" id="id4" name="id4">Arrays and Objects as member variables</a></li>
<li><a class="reference" href="#inheritance" id="id5" name="id5">Inheritance</a></li>
<li><a class="reference" href="#mixins" id="id6" name="id6">Mixins</a></li>
<li><a class="reference" href="#mixin-inheritance-chain" id="id7" name="id7">Mixin inheritance chain</a></li>
<li><a class="reference" href="#see-also" id="id8" name="id8">See Also</a></li>
</ul>
</li>
</ul>
</div>
<p>Javascript doesn&#8217;t have a Class system like Java, though Dojo provides functionality to simulate this: dojo.declare. For some background on JavaScript and prototype-based object orientation, chapter 9 of David Flanagan&#8217;s <em>JavaScript: The Definitive Guide, 5th edition</em> is a good read.</p>
<p>This section has some pretty abstract stuff, and you may wish to skip it on the first read.  Certainly you can do a lot with Dojo without using dojo.declare or the other object orientation functions.  But a good knowledge of it will help you program faster and smarter.</p>
<div class="section" id="basic-usage">
<h2><a class="toc-backref" href="#id3">Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this headline">¶</a></a></h2>
<p>dojo.declare accepts three arguments. The first is the name of the Class to declare, and is a string representation of the name. The second is either an object or an array of objects, each mixed into your Class in order from left to right. The third is an object hash of properties to be mixed in after all other inheritance has been solved.</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;my.Thinger&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="p">{</span>
    <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="c">/* Object */</span><span class="nx">args</span><span class="p">){</span>
        <span class="nx">dojo</span><span class="p">.</span><span class="nx">mixin</span><span class="p">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">args</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div>
<p>Here, we've declared a simple class named 'my.Thinger', mixing in 'null' Classes, and finally providing a single property named constructor. The constructor function is run once for each mixed Class. In this example, we've simply mixed the passed arguments into 'this', or our scoped reference to an instance of my.Thinger. You could then create a Thinger like so:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2</pre></td><td class="code"><div class="highlight"><pre><span class="k">var</span> <span class="nx">thing</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">my</span><span class="p">.</span><span class="nx">Thinger</span><span class="p">({</span> <span class="nx">count</span><span class="o">:</span><span class="mi">100</span> <span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">thing</span><span class="p">.</span><span class="nx">count</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>The dojo.mixin call (in the constructor) then mixes the variable count into the properties of the instance, making it available as a member of the instance. We can supply defaults to use from within dojo.declare itself.</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;my.Thinger&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="p">{</span>
    <span class="nx">count</span><span class="o">:</span> <span class="mi">100</span><span class="o">,</span>
    <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">args</span><span class="p">){</span>
       <span class="nx">dojo</span><span class="p">.</span><span class="nx">mixin</span><span class="p">(</span><span class="k">this</span><span class="o">,</span> <span class="nx">args</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
<span class="k">var</span> <span class="nx">thing1</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">my</span><span class="p">.</span><span class="nx">Thinger</span><span class="p">();</span>
<span class="k">var</span> <span class="nx">thing2</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">my</span><span class="p">.</span><span class="nx">Thinger</span><span class="p">({</span> <span class="nx">count</span><span class="o">:</span><span class="mi">200</span> <span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">thing1</span><span class="p">.</span><span class="nx">count</span><span class="o">,</span> <span class="nx">thing2</span><span class="p">.</span><span class="nx">count</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Now we have a 'base class', called my.Thinger. To show how the inheritance chain works, we will create a new class derrived from this base Class:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8
9</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;my.OtherThinger&quot;</span><span class="o">,</span> <span class="p">[</span><span class="nx">my</span><span class="p">.</span><span class="nx">Thinger</span><span class="p">]</span><span class="o">,</span> <span class="p">{</span>
     <span class="nx">divisor</span><span class="o">:</span> <span class="mi">5</span><span class="o">,</span>
     <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">args</span><span class="p">){</span>
       <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;OtherThinger constructor called&#39;</span><span class="p">);</span>
       <span class="k">this</span><span class="p">.</span><span class="nx">total</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">count</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="nx">divisor</span><span class="o">;</span>
     <span class="p">}</span>
<span class="p">});</span>
<span class="k">var</span> <span class="nx">thing</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">my</span><span class="p">.</span><span class="nx">OtherThinger</span><span class="p">({</span> <span class="nx">count</span><span class="o">:</span><span class="mi">50</span> <span class="p">});</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">thing</span><span class="p">.</span><span class="nx">total</span><span class="p">);</span> <span class="c">// 10</span>
</pre></div>
</td></tr></table></div>
<p>First, the constructor of 'my.Thinger' is called, mixing in the args parameter. Then, we're using the reserved word 'this' to access instance variables, creating a new variable 'total' based on some simple code.</p>
<p>Above we passed an object hash exclusively as the parameter to our Class instantiation. The constructor is passed whichever arguments are passed during instantiation.</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5
6
7
8</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;Person&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="p">{</span>
      <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">name</span><span class="o">,</span> <span class="nx">age</span><span class="o">,</span> <span class="nx">currentResidence</span><span class="p">){</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="o">=</span><span class="nx">name</span><span class="o">;</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">age</span><span class="o">=</span><span class="nx">age</span><span class="o">;</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">currentResidence</span> <span class="o">=</span> <span class="nx">currentResidence</span><span class="o">;</span>
      <span class="p">}</span>
<span class="p">});</span>
<span class="k">var</span> <span class="nx">folk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s2">&quot;phiggins&quot;</span><span class="o">,</span> <span class="mi">42</span><span class="o">,</span> <span class="s2">&quot;Tennessee&quot;</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Each of the ordered parameters are passed (as seen by the constructor's function signature) and then manually added to 'this' by direct variable assignment.</p>
<p>Let's add some content to a new class by giving it a name and showing what the constructor can do. Following is a Person class with a constructor and a moveToNewState() function:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;Person&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="p">{</span>
      <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">name</span><span class="o">,</span> <span class="nx">age</span><span class="o">,</span> <span class="nx">currentResidence</span><span class="p">){</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="o">;</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="o">;</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">currentResidence</span> <span class="o">=</span> <span class="nx">currentResidence</span><span class="o">;</span>
      <span class="p">}</span><span class="o">,</span>
      <span class="nx">moveToNewState</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">newState</span><span class="p">){</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">currentResidence</span> <span class="o">=</span> <span class="nx">newState</span><span class="o">;</span>
      <span class="p">}</span>
<span class="p">});</span>
<span class="k">var</span> <span class="nx">folk</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Person</span><span class="p">(</span><span class="s2">&quot;phiggins&quot;</span><span class="o">,</span> <span class="mi">28</span><span class="o">,</span> <span class="s2">&quot;Tennessee&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">folk</span><span class="p">.</span><span class="nx">currentResidence</span><span class="p">);</span>
<span class="nx">folk</span><span class="p">.</span><span class="nx">moveToNewState</span><span class="p">(</span><span class="s2">&quot;Oregon&quot;</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">folk</span><span class="p">.</span><span class="nx">currentResidence</span><span class="p">);</span>
</pre></div>
</td></tr></table></div>
<p>Note the use of anonymous functions here.  You are passing to dojo.declare an associative array of anonymous functions.  &quot;That's not an anonymous function,&quot; you might say, &quot;their names are constructor and moveToNewState!&quot;  Strictly speaking, no they aren't.  They are anonymous functions with the <em>keys</em> constructor and moveToNewState.</p>
<p>In pure JavaScript, this is handled by a prototype function named after the class - for example, Person.prototype.  Dojo wires in your constructor as a part of the prototype, but then adds extra goodies like calling the superclass constructor and initializing extra properties.</p>
</div>
<div class="section" id="arrays-and-objects-as-member-variables">
<h2><a class="toc-backref" href="#id4">Arrays and Objects as member variables<a class="headerlink" href="#arrays-and-objects-as-member-variables" title="Permalink to this headline">¶</a></a></h2>
<p>If your class contains arrays or other objects, they should be declared in the constructor so that each instance gets it's own copy. Simple types (literal strings and numbers) and are fine to declare in the class directly.</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;my.classes.bar&quot;</span><span class="o">,</span> <span class="nx">my</span><span class="p">.</span><span class="nx">classes</span><span class="p">.</span><span class="nx">foo</span><span class="o">,</span> <span class="p">{</span>
      <span class="nx">someData</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">4</span><span class="p">]</span><span class="o">,</span> <span class="c">// doesn&#39;t do what I want: ends up being static</span>
      <span class="nx">numItem</span> <span class="o">:</span> <span class="mi">5</span><span class="o">,</span> <span class="c">// one per bar</span>
      <span class="nx">strItem</span> <span class="o">:</span> <span class="s2">&quot;string&quot;</span><span class="o">,</span> <span class="c">// one per bar</span>

       <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">someData</span> <span class="o">=</span> <span class="p">[</span> <span class="p">];</span> <span class="c">// better, each bar has it&#39;s own array</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">expensiveResource</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">expensiveResource</span><span class="p">();</span> <span class="c">// one per bar</span>
      <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div>
<p>On the other hand, if you want an object or array to be static (shared between all instances of <em>my.classes.bar</em>), then you should do something like this:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5
6
7</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;my.classes.bar&quot;</span><span class="o">,</span> <span class="nx">my</span><span class="p">.</span><span class="nx">classes</span><span class="p">.</span><span class="nx">foo</span><span class="o">,</span> <span class="p">{</span>
      <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
              <span class="nx">dojo</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s2">&quot;this is bar object # &quot;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">statics</span><span class="p">.</span><span class="nx">counter</span><span class="o">++</span><span class="p">);</span>
      <span class="p">}</span><span class="o">,</span>

      <span class="nx">statics</span><span class="o">:</span> <span class="p">{</span> <span class="nx">counter</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span> <span class="nx">somethingElse</span><span class="o">:</span> <span class="s2">&quot;hello&quot;</span> <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div>
<p>&quot;Statics&quot; is not a special dojo construct - you can use any name you want, like &quot;constants&quot;.  In this example, you'd refer to the variable as myInstance.statics.counter both inside and outside the class definition.</p>
<p>Why is this true for arrays and objects, but not primitives?  It's because, like most OOP languages, JavaScript uses object references. For example, given:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">x</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">fruit</span><span class="o">:</span> <span class="s2">&quot;apple&quot;</span> <span class="p">};</span>
<span class="nx">y</span> <span class="o">=</span> <span class="nx">x</span><span class="o">;</span>
</pre></div>
</div>
<p>Now <em>x</em> and <em>y</em> both refer to the same object. Modifying <em>x.fruit</em> will also affect <em>y.fruit</em>.</p>
</div>
<div class="section" id="inheritance">
<h2><a class="toc-backref" href="#id5">Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></a></h2>
<p>A person can only do so much, so let's create an Employee class that extends the Person class.The second argument in the dojo.declare() function is for extending classes.</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;Employee&quot;</span><span class="o">,</span> <span class="nx">Person</span><span class="o">,</span> <span class="p">{</span>
      <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">name</span><span class="o">,</span> <span class="nx">age</span><span class="o">,</span> <span class="nx">currentResidence</span><span class="o">,</span> <span class="nx">position</span><span class="p">){</span>
              <span class="c">// remember, Person constructor is called automatically</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">password</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">;</span>
              <span class="k">this</span><span class="p">.</span><span class="nx">position</span><span class="o">=</span><span class="nx">position</span><span class="o">;</span>
      <span class="p">}</span><span class="o">,</span>

      <span class="nx">login</span><span class="o">:</span> <span class="k">function</span><span class="p">(){</span>
          <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">password</span><span class="p">){</span>
              <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;you have successfully logged in&#39;</span><span class="p">);</span>
          <span class="p">}</span><span class="k">else</span><span class="p">{</span>
              <span class="nx">alert</span><span class="p">(</span><span class="s1">&#39;please ask the administrator for your password&#39;</span><span class="p">);</span>
          <span class="p">}</span>
      <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</td></tr></table></div>
<p>Dojo handles all of the requirements for setting up the inheritance chain, including calling the superclass constructor automatically. Methods or variables can be overridden by setting the name to the same as it is in the parent class. The Employee class can override the Person class moveToNewState(), perhaps by letting the company pay for moving expenses.</p>
<p>You initialize the subclass the same as the Person class with the new keyword.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">var</span> <span class="nx">kathryn</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Employee</span><span class="p">(</span><span class="s1">&#39; Kathryn &#39;</span><span class="o">,</span> <span class="mi">26</span><span class="o">,</span> <span class="s1">&#39;Minnesota&#39;</span><span class="o">,</span> <span class="s1">&#39;Designer&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>The Employee class passes the first three arguments down to the Person class, and sets the position.Kathryn has access to the login() function found in the Employee class, and also the moveToNewState() function by calling kathryn.moveToNewState(&quot;Texas&quot;); Matt on the other hand, does not have access to the Employee login() function.</p>
<div class="section" id="calling-superclass-methods">
<h3>Calling Superclass Methods<a class="headerlink" href="#calling-superclass-methods" title="Permalink to this headline">¶</a></h3>
<p>Often when you're overriding a method, you want to <em>add</em> something to the superclasses method, not totally replace it.  Dojo has helper functions to make this easy.</p>
<p>But you don't have to worry in the constructor.  As we said above, superclass constructors are <em>always</em> called automatically, and <em>always</em> before the subclass constructor. This convention reduces boilerplate in 90% of cases.</p>
<p>For all other methods, you can use <tt class="docutils literal"><span class="pre">inherited(arguments)</span></tt> to call the superclass method of the same name.  Take for example:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre>1
2
3
4
5</pre></td><td class="code"><div class="highlight"><pre>  <span class="nx">someMethod</span><span class="o">:</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c">// call base class someMethod</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">inherited</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
    <span class="c">// now do something else</span>
  <span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p>Inherited will climb up the scope chain, from superclass to superclass and through mixin classes as well, until it finds &quot;someMethod&quot;, then it will invoke that method.</p>
<p>The argument is always literally <tt class="docutils literal"><span class="pre">arguments</span></tt>, a special Javascript array variable which holds all the arguments (like argv in C).</p>
<p>You can send custom parameters to the ancestor function.  Just place the extra arguments in array literal notation with brackets:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="k">this</span><span class="p">.</span><span class="nx">inherited</span><span class="p">(</span><span class="nx">arguments</span><span class="o">,</span> <span class="p">[</span> <span class="nx">customArg1</span><span class="o">,</span> <span class="nx">customArg2</span> <span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="mixins">
<h2><a class="toc-backref" href="#id6">Mixins<a class="headerlink" href="#mixins" title="Permalink to this headline">¶</a></a></h2>
<p>Just as Dojo adds class-based inheritance to JavaScript, so it adds support for <em>multiple inheritance</em>.  We do this through Dojo <em>mixins</em>.   The methods and properties of a mixed-in class are simply added to each instance.</p>
<p>In pure object-oriented languages like Java, you must use typecasts to make an object &quot;act like&quot; its mixed-in class (in Java, this is through interfaces).  Not in Dojo.  You can use the mixed-in properties directly.</p>
<p>Suppose, for example, you have a class called VanillaSoftServe, and classes MandMs and CookieDough.  Here's how to make a Blizzard:</p>
<div class="highlight-javascript"><table class="highlighttable"><tr><td class="linenos"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><div class="highlight"><pre><span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;VanillaSoftServe&quot;</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span> <span class="p">(</span><span class="s2">&quot;mixing in Vanilla&quot;</span><span class="p">);</span> <span class="p">}</span>
<span class="p">});</span>

<span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;MandMs&quot;</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span> <span class="p">{</span>
  <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s2">&quot;mixing in MandM&#39;s&quot;</span><span class="p">);</span> <span class="p">}</span><span class="o">,</span>
  <span class="nx">kind</span><span class="o">:</span> <span class="s2">&quot;plain&quot;</span>
<span class="p">});</span>

<span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;CookieDough&quot;</span><span class="o">,</span><span class="kc">null</span><span class="o">,</span> <span class="p">{</span>
  <span class="nx">chunkSize</span><span class="o">:</span> <span class="s2">&quot;medium&quot;</span>
<span class="p">});</span>

<span class="nx">dojo</span><span class="p">.</span><span class="nx">declare</span><span class="p">(</span><span class="s2">&quot;Blizzard&quot;</span><span class="o">,</span> <span class="p">[</span><span class="nx">VanillaSoftServe</span><span class="o">,</span> <span class="nx">MandMs</span><span class="o">,</span> <span class="nx">CookieDough</span><span class="p">]</span><span class="o">,</span> <span class="p">{</span>
      <span class="nx">constructor</span><span class="o">:</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
           <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s2">&quot;A blizzard with &quot;</span><span class="o">+</span>
               <span class="k">this</span><span class="p">.</span><span class="nx">kind</span><span class="o">+</span><span class="s2">&quot; M and Ms and &quot;</span><span class="o">+</span>
               <span class="k">this</span><span class="p">.</span><span class="nx">chunkSize</span><span class="o">+</span><span class="s2">&quot; chunks of cookie dough.&quot;</span>
           <span class="p">);</span>
      <span class="p">}</span>
<span class="p">});</span>
<span class="c">// make a Blizzard:</span>
<span class="k">new</span> <span class="nx">Blizzard</span><span class="p">();</span>
</pre></div>
</td></tr></table></div>
<p>This will first print &quot;mixing in Vanilla&quot; on the debug console because VanillaSoftServe is the superclass of Blizzard.  In fact, VanillaSoftServe is the <em>only</em> superclass of Blizzard - the first mixin is always the superclass. Next the constructors of the mixins are called, so &quot;mixing in MandMs&quot; will appear.  Then &quot;A blizzard with plain M and Ms and medium chunks of cookie dough.&quot; will appear.</p>
<p>Mixins are used a lot in defining Dijit classes, with most classes extending <tt class="docutils literal"><span class="pre">dijit._Widget</span></tt> and mixing in <tt class="docutils literal"><span class="pre">dijit._Templated</span></tt>.</p>
</div>
<div class="section" id="mixin-inheritance-chain">
<h2><a class="toc-backref" href="#id7">Mixin inheritance chain<a class="headerlink" href="#mixin-inheritance-chain" title="Permalink to this headline">¶</a></a></h2>
<p>Given:</p>
<blockquote>
dojo.declare(&quot;foo&quot;, [bar, zot, nim])</blockquote>
<p>Then the inheritance chain looks like this:</p>
<div class="highlight-html"><div class="highlight"><pre>foo -&gt; nim -&gt; zot -&gt; bar
</pre></div>
</div>
<p>It specifically does not look like this:</p>
<div class="highlight-html"><div class="highlight"><pre>foo -&gt; bar
    -&gt; zot
    -&gt; nim
</pre></div>
</div>
<p>This can be confusing because of the nomenclature. &quot;Mixins&quot; sounds a lot
like the latter, but it's really &quot;multiple base classes with limitations&quot;.
Sometimes we use the phrase &quot;mixin classes&quot; to describe it, but that's not
ideal either.</p>
<p>Note also that &quot;mixin classes&quot; can have their own arbitrarily complex
hierarchy. So the &quot;inherits&quot; can also walk a tree.</p>
<p>The upshot of this is that, in general, every mixin method should be calling this.inherited(arguments).   Of course that's assuming it'll be mixed in where the superclass has a method in the base class with the same name.</p>
</div>
<div class="section" id="see-also">
<h2><a class="toc-backref" href="#id8">See Also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></a></h2>
<ul class="simple">
<li><a class="reference" href="http://dojocampus.org/content/2008/06/03/understanding-dojodeclare-dojorequire-and-dojoprovide/">Understanding dojo.declare, dojo.require, and dojo.provide</a> - 2008-06-03 - Dojo Cookie article</li>
</ul>
</div>
</div>


		      </div>
		    </div>
		  </div>
		  <div class="clearfix"></div>
	</div>
      </div>
	</div>
      <div class="clearer"></div>
    </div>
<div id="footer">
    
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>
</div>
<script type="text/javascript">
	document.body.className = "nihilo";
</script>
<script type="text/javascript">
    dojo.require("docs.widget.CodeViewer");
    dojo.require("docs.widget.CompoundViewer");
</script>
<!--
    <div class="footer">
      &copy; Copyright 2009, Dojo Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>-->

  </body>
</html>