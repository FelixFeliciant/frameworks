<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<script type="text/javascript" src="helpman_topicinit.js"></script>

   <title>bindAsEventListener</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#000000">
  <tr valign="middle">
    <td align="left">
      <p class="p_TopicHeading"><span class="f_TopicHeading">bindAsEventListener </span><span class="f_TopicHeading" style="color: #ccffff;">:: Function</span></p>

    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 0px 5px;"><table cellspacing="0" cellpadding="5" bgcolor="#e1f4ff" border="1" style="background-color: #e1f4ff; border: solid 1px #99ccff; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td valign="top" style="border: none"><p><span class="f_CourierFixed" style="color: #0000ff;">bindAsEventListener(thisObj[, arg...]) -&gt; Function</span></p>
<p><span class="f_CourierFixed">&nbsp;</span></p>
<p><span style="font-size: 9pt; font-weight: bold; color: #666699;">An event-specific variant of </span><span class="f_CourierFixed">bind</span><span style="font-size: 9pt; font-weight: bold; color: #666699;">, which makes sure the function will get the current event object as first argument..</span></p>
</td>
</tr>
</table>
</div>
<p>&nbsp;</p>
<p>If you’re unclear on what “binding” is, check out <span class="f_CourierFixed">Function</span>’s API page. If you don’t quite understand what bind does, check out its specific article.</p>
<p>&nbsp;</p>
<p>When you’re creating methods that you want to use as event handlers, you need to get the current event somehow. The W3C-conformant way is for the browser to pass it as first argument to your function. This is well and good, but browsers such as Microsoft Internet Explorer fail to do it, for instance. You have to start jumping through hoops.</p>
<p>&nbsp;</p>
<p>To spare you this, Prototype lets you bind a function as an event listener. This is still a form of binding, so you need to specify first what object is to be guaranteed as the this reference when the function executes. But here, Prototype guarantees that its first argument will be the current event. Any arguments you specify in the remainder of your call to <span class="f_CourierFixed">bindAsEventListener</span> will appear next in the arguments list.</p>
<p>&nbsp;</p>
<p>You typically use this method in conjunction with <span class="f_CourierFixed"><a href="event_observe.html">Event.observe</a></span>, and anywhere you need to pass a method as an event listener.</p>
<p>&nbsp;</p>
<p class="p_Heading1" style="border-top: none; border-right: none; border-left: none;"><span class="f_Heading1">Example</span></p>
<p>&nbsp;</p>
<p>Here is a consolidated example:</p>
<p>&nbsp;</p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #0000ff;">var</span><span class="f_CodeExample" style="color: #000000;">&nbsp;obj&nbsp;=&nbsp;{</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;name:&nbsp;</span><span class="f_CodeExample" style="color: #800000;">'A&nbsp;nice&nbsp;demo'</span><span class="f_CodeExample" style="color: #000000;">,</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;fx:&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">function</span><span class="f_CodeExample" style="color: #000000;">(e)&nbsp;{</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">var</span><span class="f_CodeExample" style="color: #000000;">&nbsp;tag&nbsp;=&nbsp;Event.element(e).tagName.toLowerCase();</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">var</span><span class="f_CodeExample" style="color: #000000;">&nbsp;data&nbsp;=&nbsp;</span><span class="f_CodeExample" style="color: #0000ff;">$A</span><span class="f_CodeExample" style="color: #000000;">(arguments).shift();</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;alert(this.name&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #800000;">'\nClick&nbsp;on&nbsp;a&nbsp;'</span><span class="f_CodeExample" style="color: #000000;">&nbsp;+&nbsp;tag&nbsp;+&nbsp;</span><span class="f_CodeExample" style="color: #800000;">'\nOther&nbsp;args:&nbsp;'</span><span class="f_CodeExample" style="color: #000000;">&nbsp;+&nbsp;data.join(</span><span class="f_CodeExample" style="color: #800000;">',&nbsp;'</span><span class="f_CodeExample" style="color: #000000;">));</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;}</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">};</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">&nbsp;</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">Event.observe(document.body,&nbsp;</span><span class="f_CodeExample" style="color: #800000;">'click'</span><span class="f_CodeExample" style="color: #000000;">,&nbsp;obj.fx.bindAsEventListener(obj,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">1</span><span class="f_CodeExample" style="color: #000000;">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">2</span><span class="f_CodeExample" style="color: #000000;">,&nbsp;</span><span class="f_CodeExample" style="color: #ff0000;">3</span><span class="f_CodeExample" style="color: #000000;">));</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">//&nbsp;-&gt;&nbsp;Any&nbsp;click&nbsp;on&nbsp;the&nbsp;page&nbsp;displays&nbsp;obj.name,&nbsp;the&nbsp;lower-cased&nbsp;tag&nbsp;name&nbsp;of&nbsp;the&nbsp;</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="color: #000000;">//&nbsp;&nbsp;&nbsp;&nbsp;clicked&nbsp;element,&nbsp;and&nbsp;&quot;1,&nbsp;2,&nbsp;3&quot;.</span></p>
<p>&nbsp;</p>

</td></tr></table>
<br>
<p style="text-align:right;padding-right:5px"><font size="1" color="#AAAAAA">Prototype API 1.5.0 - prototypejs.org</font></p>
<br>
</body>
</html>
